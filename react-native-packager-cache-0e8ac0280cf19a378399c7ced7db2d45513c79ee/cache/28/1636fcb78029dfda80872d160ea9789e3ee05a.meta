["14e0bd7741195a2bbc7307f75ad815eca0150b7c","42a585591201f8f1fecc3fc08f0d4049c0358c38",["react","prop-types","react-native"],[157,252,362],{"version":3,"sources":["/Users/mani/Documents/Udacity/Core/React_Native/UdaciFitness/node_modules/expo/src/BarCodeScanner.js"],"names":["BarCodeScannerManager","ExponentBarCodeScannerManager","ExponentBarCodeScannerModule","convertNativeProps","props","newProps","torchMode","BarCodeScanner","Constants","TorchMode","type","Type","EventThrottleMs","_setRef","_component","component","_onBarCodeRead","nativeEvent","_lastEvent","JSON","stringify","Date","_lastEventTime","onBarCodeRead","nativeProps","setNativeProps","Component","BarCodeType","propTypes","func","barCodeTypes","array","oneOfType","string","number","defaultProps","back","off","Object","values","ExponentBarCodeScanner","nativeOnly"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;AAMA,IAAMA,wBACJ,2BAAcC,6BAAd,IACA,2BAAcC,4BAFhB;;AAIA,SAASC,kBAAT,CAA4BC,KAA5B,EAAmC;AACjC,MAAMC,oCAAgBD,KAAhB,CAAN;AACA,MAAI,OAAOA,MAAME,SAAb,KAA2B,QAA/B,EAAyC;AACvCD,aAASC,SAAT,GAAqBC,eAAeC,SAAf,CAAyBC,SAAzB,CAAmCL,MAAME,SAAzC,CAArB;AACD;;AAED,MAAI,OAAOF,MAAMM,IAAb,KAAsB,QAA1B,EAAoC;AAClCL,aAASK,IAAT,GAAgBH,eAAeC,SAAf,CAAyBG,IAAzB,CAA8BP,MAAMM,IAApC,CAAhB;AACD;;AAED,SAAOL,QAAP;AACD;;AAED,IAAMO,kBAAkB,GAAxB;;IAEqBL,c;;;;;;;;;;;;;;kNAsCnBM,O,GAAU,qBAAa;AACrB,YAAKC,UAAL,GAAkBC,SAAlB;AACD,K,QAEDC,c,GAAiB,iBAAqB;AAAA,UAAlBC,WAAkB,SAAlBA,WAAkB;;AACpC,UACE,MAAKC,UAAL,IACAC,KAAKC,SAAL,CAAeH,WAAf,MAAgC,MAAKC,UADrC,IAEA,IAAIG,IAAJ,KAAa,MAAKC,cAAlB,GAAmCV,eAHrC,EAIE;AACA;AACD;;AAED,UAAI,MAAKR,KAAL,CAAWmB,aAAf,EAA8B;AAC5B,cAAKnB,KAAL,CAAWmB,aAAX,CAAyBN,WAAzB;AACA,cAAKC,UAAL,GAAkBC,KAAKC,SAAL,CAAeH,WAAf,CAAlB;AACA,cAAKK,cAAL,GAAsB,IAAID,IAAJ,EAAtB;AACD;AACF,K;;;;;mCAnCcjB,K,EAAO;AACpB,UAAMoB,cAAcrB,mBAAmBC,KAAnB,CAApB;AACA,WAAKU,UAAL,CAAgBW,cAAhB,CAA+BD,WAA/B;AACD;;;6BAEQ;AACP,UAAMA,cAAcrB,mBAAmB,KAAKC,KAAxB,CAApB;;AAEA,aACE,8BAAC,sBAAD,2BACMoB,WADN;AAEE,aAAK,KAAKX,OAFZ;AAGE,uBAAe,KAAKG;AAHtB,SADF;AAOD;;;EApCyC,gBAAMU,S,UACzClB,S,GAAY;AACjBmB,eAAa3B,sBAAsB2B,WADlB;AAEjBhB,QAAMX,sBAAsBW,IAFX;AAGjBF,aAAWT,sBAAsBS;AAHhB,C,SAMZmB,S;AAELL,iBAAe,oBAAUM,I;AACzBC,gBAAc,oBAAUC,K;AACxBzB,aAAW,oBAAU0B,SAAV,CAAoB,CAAC,oBAAUC,MAAX,EAAmB,oBAAUC,MAA7B,CAApB,C;AACXxB,QAAM,oBAAUsB,SAAV,CAAoB,CAAC,oBAAUC,MAAX,EAAmB,oBAAUC,MAA7B,CAApB;WAGDC,Y,GAAe;AACpBzB,QAAMV,sBAAsBW,IAAtB,CAA2ByB,IADb;AAEpB9B,aAAWN,sBAAsBS,SAAtB,CAAgC4B,GAFvB;AAGpBP,gBAAcQ,OAAOC,MAAP,CAAcvC,sBAAsB2B,WAApC;AAHM,C;kBAfHpB,c;AA2Dd,IAAMC,gCAAYD,eAAeC,SAAjC;;AAEP,IAAMgC,yBAAyB,yCAC7B,wBAD6B,EAE7BjC,cAF6B,EAG7B;AACEkC,cAAY;AACVlB,mBAAe;AADL;AADd,CAH6B,CAA/B","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  NativeModules,\n  requireNativeComponent,\n  ViewPropTypes,\n} from 'react-native';\n\nconst BarCodeScannerManager =\n  NativeModules.ExponentBarCodeScannerManager ||\n  NativeModules.ExponentBarCodeScannerModule;\n\nfunction convertNativeProps(props) {\n  const newProps = { ...props };\n  if (typeof props.torchMode === 'string') {\n    newProps.torchMode = BarCodeScanner.Constants.TorchMode[props.torchMode];\n  }\n\n  if (typeof props.type === 'string') {\n    newProps.type = BarCodeScanner.Constants.Type[props.type];\n  }\n\n  return newProps;\n}\n\nconst EventThrottleMs = 500;\n\nexport default class BarCodeScanner extends React.Component {\n  static Constants = {\n    BarCodeType: BarCodeScannerManager.BarCodeType,\n    Type: BarCodeScannerManager.Type,\n    TorchMode: BarCodeScannerManager.TorchMode,\n  };\n\n  static propTypes = {\n    ...ViewPropTypes,\n    onBarCodeRead: PropTypes.func,\n    barCodeTypes: PropTypes.array,\n    torchMode: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    type: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  };\n\n  static defaultProps = {\n    type: BarCodeScannerManager.Type.back,\n    torchMode: BarCodeScannerManager.TorchMode.off,\n    barCodeTypes: Object.values(BarCodeScannerManager.BarCodeType),\n  };\n\n  setNativeProps(props) {\n    const nativeProps = convertNativeProps(props);\n    this._component.setNativeProps(nativeProps);\n  }\n\n  render() {\n    const nativeProps = convertNativeProps(this.props);\n\n    return (\n      <ExponentBarCodeScanner\n        {...nativeProps}\n        ref={this._setRef}\n        onBarCodeRead={this._onBarCodeRead}\n      />\n    );\n  }\n\n  _setRef = component => {\n    this._component = component;\n  };\n\n  _onBarCodeRead = ({ nativeEvent }) => {\n    if (\n      this._lastEvent &&\n      JSON.stringify(nativeEvent) === this._lastEvent &&\n      new Date() - this._lastEventTime < EventThrottleMs\n    ) {\n      return;\n    }\n\n    if (this.props.onBarCodeRead) {\n      this.props.onBarCodeRead(nativeEvent);\n      this._lastEvent = JSON.stringify(nativeEvent);\n      this._lastEventTime = new Date();\n    }\n  };\n}\n\nexport const Constants = BarCodeScanner.Constants;\n\nconst ExponentBarCodeScanner = requireNativeComponent(\n  'ExponentBarCodeScanner',\n  BarCodeScanner,\n  {\n    nativeOnly: {\n      onBarCodeRead: true,\n    },\n  }\n);\n"]}]